<Window x:Class="GigaChatWpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GigaChat Wallpaper Generator" Height="700" Width="900"
        Background="#FFF5F5F5"
        FontFamily="Segoe UI">

    <Grid Margin="30">
        <Grid.Effect>
            <DropShadowEffect BlurRadius="15" ShadowDepth="5" Opacity="0.1"/>
        </Grid.Effect>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="3*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <TextBlock Text="Генератор картинок с GigaChat"
                   FontSize="32" FontWeight="SemiBold"
                   Foreground="#FF2C3E50"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,30"/>
        <Border Grid.Row="1" Background="White" CornerRadius="12" Padding="15" Margin="0,0,0,20"
                BorderBrush="#FFE0E0E0" BorderThickness="1">
            <StackPanel>
                <TextBlock Text="Ваш промпт (опционально)" FontWeight="Medium" Foreground="#FF34495E" Margin="0,0,0,8"/>
                <TextBox x:Name="PromptTextBox" Height="80" TextWrapping="Wrap" AcceptsReturn="True"
                         FontSize="14" Padding="10" BorderThickness="0" Background="#FFF9F9F9"/>
            </StackPanel>
        </Border>
        <Border Grid.Row="2" Background="White" CornerRadius="12" Padding="20" Margin="0,0,0,20"
                BorderBrush="#FFE0E0E0" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Стиль" FontWeight="Medium" Foreground="#FF34495E" Margin="0,0,0,8"/>
                    <ComboBox x:Name="StyleComboBox" SelectedIndex="0" Padding="10" Height="40" FontSize="14">
                        <ComboBoxItem>Реалистичный</ComboBoxItem>
                        <ComboBoxItem>Киберпанк</ComboBoxItem>
                        <ComboBoxItem>Минимализм</ComboBoxItem>
                        <ComboBoxItem>Акварель</ComboBoxItem>
                        <ComboBoxItem>Арт-деко</ComboBoxItem>
                        <ComboBoxItem>Фэнтези</ComboBoxItem>
                        <ComboBoxItem>Винтаж</ComboBoxItem>
                        <ComboBoxItem>Аниме</ComboBoxItem>
                        <ComboBoxItem>Сюрреализм</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
                <StackPanel Grid.Column="1" Margin="20,0">
                    <TextBlock Text="Цветовая палитра" FontWeight="Medium" Foreground="#FF34495E" Margin="0,0,0,8"/>
                    <ComboBox x:Name="PaletteComboBox" SelectedIndex="0" Padding="10" Height="40" FontSize="14">
                        <ComboBoxItem>Нейтральная</ComboBoxItem>
                        <ComboBoxItem>Тёплые тона</ComboBoxItem>
                        <ComboBoxItem>Холодные тона</ComboBoxItem>
                        <ComboBoxItem>Пастельные</ComboBoxItem>
                        <ComboBoxItem>Яркие</ComboBoxItem>
                        <ComboBoxItem>Тёмная</ComboBoxItem>
                        <ComboBoxItem>Светлая</ComboBoxItem>
                        <ComboBoxItem>Новогодняя</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
                <StackPanel Grid.Column="2">
                    <TextBlock Text="Соотношение сторон" FontWeight="Medium" Foreground="#FF34495E" Margin="0,0,0,8"/>
                    <ComboBox x:Name="AspectRatioComboBox" SelectedIndex="0" Padding="10" Height="40" FontSize="14">
                        <ComboBoxItem>16:9 (монитор)</ComboBoxItem>
                        <ComboBoxItem>21:9 (ультраширокий)</ComboBoxItem>
                        <ComboBoxItem>16:10</ComboBoxItem>
                        <ComboBoxItem>4:3</ComboBoxItem>
                        <ComboBoxItem>1:1 (квадрат)</ComboBoxItem>
                        <ComboBoxItem>9:16 (вертикаль)</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,30">
            <Button x:Name="GenerateButton" Content="Сгенерировать картинку" Width="220" Height="50"
                    FontSize="16" FontWeight="Medium" Margin="0,0,20,0"
                    Background="#FF3498DB" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Click="GenerateButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="12" Padding="10">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#FF2980B9"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>
            <Button x:Name="HolidayButton" Content="Праздничные картинки 🎄" Width="220" Height="50"
                    FontSize="16" FontWeight="Medium"
                    Background="#FFE74C3C" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Click="HolidayButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="12" Padding="10">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#FFC0392B"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>
        <TextBlock Grid.Row="4" x:Name="StatusTextBlock" Text="Готов к работе"
                   FontSize="16" FontWeight="Medium" Foreground="#FF27AE60"
                   HorizontalAlignment="Center" Margin="0,0,0,20"/>
        <TextBlock Grid.Row="4" x:Name="HolidayInfoTextBlock" 
           Text="Определяем текущий праздник..." 
           FontSize="14" Foreground="#FF7F8C8D" 
           HorizontalAlignment="Center" Margin="0, -20,0,20" />

        <!-- ПРЕДПРОСМОТР — ГЛАВНОЕ ИЗМЕНЕНИЕ -->
        <Border Grid.Row="5" Background="White" CornerRadius="16" Margin="0,0,0,20"
                BorderBrush="#FFE0E0E0" BorderThickness="1" Padding="15">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                <Image x:Name="PreviewImage" 
                       Stretch="Uniform" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Center"/>
            </ScrollViewer>
        </Border>

        <!-- Кнопка установки обоев -->
        <Button Grid.Row="6" x:Name="SetWallpaperButton" Content="Установить как обои рабочего стола"
                Width="300" Height="50" FontSize="16" FontWeight="Medium"
                Background="#FF2ECC71" Foreground="White" BorderThickness="0" Cursor="Hand"
                IsEnabled="False" Click="SetWallpaperButton_Click" HorizontalAlignment="Center">
            <Button.Style>
                <Style TargetType="Button">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="12">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#FF27AB60"/>
                                    </Trigger>
                                    <Trigger Property="IsEnabled" Value="False">
                                        <Setter Property="Background" Value="#FF95A5A6"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Button.Style>
        </Button>
    </Grid>
</Window>